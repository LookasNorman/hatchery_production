{% extends 'base.html.twig' %}

{% block body %}
    <style>
        .example-wrapper {
            margin: 1em auto;
            max-width: 1920px;
            width: 95%;
            font: 18px/1.5 sans-serif;
        }

        .example-wrapper code {
            background: #F5F5F5;
            padding: 2px 6px;
        }
        .header a {
            color: white;
        }
    </style>

    <div class="example-wrapper">
        <h1>{% trans %}plan_delivery_egg.index.title{% endtrans %}</h1>
        {% if is_granted("ROLE_MANAGER") %}
            {{ include('layout/buttons/new.html.twig', {pathLink: path('plan_delivery_egg_new'), text: 'plan_delivery_egg.index.button.new' }) }}
        {% endif %}
        <div class="count">
            {{ pagination.getTotalItemCount }}
        </div>
        {% include 'layout/tables/thead.html.twig' %}
        <tr class="header">
            {# sorting of properties based on query components #}
            <th>{{ knp_pagination_sortable(pagination, 'Lp', 'p.id') }}</th>
            <th{% if pagination.isSorted('herd') %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Stado', 'herd') }}
            </th>
            <th{% if pagination.isSorted(['breeder']) %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Hodowca', ['breeder']) }}
            </th>
            <th>{% trans %}plan_delivery_egg.index.table.eggs_number{% endtrans %}</th>
            <th{% if pagination.isSorted(['p.deliveryDate']) %} class="sorted"{% endif %}>
                {{ knp_pagination_sortable(pagination, 'Data dostawy', ['p.deliveryDate']) }}
            </th>
            <th>{% trans %}plan_delivery_egg.index.table.actions{% endtrans %}</th>
        </tr>
        {% include 'layout/tables/tbody.html.twig' %}
        {% for plan in pagination %}
            <tr {% if loop.index is odd %}class="color"{% endif %}>
                <td>{{ plan.id }}</td>
                <td>{{ plan.herd }}</td>
                <td>{{ plan.breeder }}</td>
                <td>{{ plan.eggsNumber|number_format(0, ',', ' ') }}</td>
                <td>{{ plan.deliveryDate | date('Y-m-d') }}</td>
                <td>
                    <span class="btn-group">
                        {{ include('layout/buttons/list_show.html.twig',
                            {pathLink: path('plan_delivery_egg_show', {'id': plan.id})}) }}
                        {% if is_granted('ROLE_MANAGER') %}
                            {{ include('layout/buttons/list_edit.html.twig',
                                {pathLink: path('plan_delivery_egg_edit', {'id': plan.id})}) }}
                        {% endif %}
                        {% if is_granted('ROLE_ADMIN') %}
                            {{ include('plan_delivery_egg/_delete_trash_form.html.twig', {'id': plan.id}) }}
                        {% endif %}
                    </span>
                </td>
            </tr>
        {% endfor %}
        {% include 'layout/tables/tfooter.html.twig' %}
        {% include 'layout/tables/tend.html.twig' %}
        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>
    </div>
{% endblock %}
